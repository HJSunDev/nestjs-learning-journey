# ============================================================
# 环境变量配置模板
# 
# 使用方法：复制此文件为 .env 并填写实际值
# cp env.example .env
#
# 设计原则：
# - 此文件只包含"敏感信息"和"环境差异配置"
# - 业务默认值在 src/common/configs/config/*.config.ts 中定义
# - 只有需要覆盖默认值时，才需要在此处配置
# ============================================================

# === 应用基础 ===
APP_ENV=development
APP_PORT=3000

# === 数据库 (必填) ===
DB_HOST=localhost
DB_PORT=5432
DB_NAME=nest_journey
DB_USER=postgres
DB_PASS=your_db_password_here

# === Redis (必填) ===
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# === JWT 密钥 (必填) ===
# 生产环境请使用强随机字符串！可通过以下命令生成：
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_ACCESS_SECRET=your-access-secret-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production

# ============================================================
# 以下为可选覆盖项 (有默认值，按需配置)
# ============================================================

# --- 数据库行为 ---
# DB_SYNCHRONIZE=false    # 是否自动同步表结构 (生产环境强制 false)
# DB_LOGGING=true         # 是否开启 SQL 日志

# --- Redis ---
# REDIS_DB=0              # 数据库索引

# --- JWT 过期时间 ---
# JWT_ACCESS_EXPIRES_IN=15m   # Access Token 过期时间
# JWT_REFRESH_EXPIRES_IN=7d   # Refresh Token 过期时间

# --- 日志 ---
# LOG_LEVEL=info          # 日志级别: error | warn | info | http | verbose | debug | silly
# LOG_ON_CONSOLE=true     # 是否在控制台输出

# --- 文件存储 ---
# STORAGE_DRIVER=local           # 存储驱动: local | oss
# STORAGE_LOCAL_DIR=static/upload
# STORAGE_LOCAL_PREFIX=/static/upload

# --- CORS 跨域 ---
# CORS_ORIGINS=http://localhost:5173,http://localhost:3001

# --- gRPC 服务 ---
# GRPC_COMPUTE_URL=localhost:50051  # Go 计算服务地址
# GRPC_COMPUTE_PROTO_PATH=dist/proto/compute/compute.proto

# --- 阿里云 OSS (使用 oss 驱动时配置) ---
# STORAGE_OSS_REGION=oss-cn-hangzhou
# STORAGE_OSS_BUCKET=your-bucket-name
# STORAGE_OSS_ACCESS_KEY_ID=your-access-key-id
# STORAGE_OSS_ACCESS_KEY_SECRET=your-access-key-secret
